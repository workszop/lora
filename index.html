import React, { useState, useEffect } from 'react';
import { Play, Pause, RotateCcw, Zap, Layers, TrendingDown } from 'lucide-react';

export default function LoRAVisualization() {
  const [activeTab, setActiveTab] = useState('full');
  const [isAnimating, setIsAnimating] = useState(false);
  const [progress, setProgress] = useState(0);
  const [highlightedCells, setHighlightedCells] = useState(new Set());

  useEffect(() => {
    let interval;
    if (isAnimating) {
      interval = setInterval(() => {
        setProgress(prev => {
          if (prev >= 100) {
            setIsAnimating(false);
            return 100;
          }
          return prev + 2;
        });
        
        // Randomly highlight cells during animation
        const newHighlighted = new Set();
        const numCells = activeTab === 'full' ? 20 : 8;
        for (let i = 0; i < numCells; i++) {
          newHighlighted.add(Math.floor(Math.random() * 64));
        }
        setHighlightedCells(newHighlighted);
      }, 100);
    }
    return () => clearInterval(interval);
  }, [isAnimating, activeTab]);

  const reset = () => {
    setIsAnimating(false);
    setProgress(0);
    setHighlightedCells(new Set());
  };

  const NeuralNetwork = ({ showAdapter = false, title, subtitle }) => {
    const layers = [5, 4, 4, 5]; // Input, hidden, hidden, output
    
    const getNodePosition = (layerIdx, nodeIdx, totalNodes) => {
      const x = (layerIdx * 200) + 50;
      const spacing = 80;
      const startY = 200 - (totalNodes * spacing) / 2;
      const y = startY + (nodeIdx * spacing);
      return { x, y };
    };

    const renderConnections = () => {
      const connections = [];
      let connectionId = 0;

      for (let layerIdx = 0; layerIdx < layers.length - 1; layerIdx++) {
        const currentLayerSize = layers[layerIdx];
        const nextLayerSize = layers[layerIdx + 1];

        for (let i = 0; i < currentLayerSize; i++) {
          for (let j = 0; j < nextLayerSize; j++) {
            const start = getNodePosition(layerIdx, i, currentLayerSize);
            const end = getNodePosition(layerIdx + 1, j, nextLayerSize);
            
            const isHighlighted = highlightedCells.has(connectionId % 30);
            connectionId++;

            connections.push(
              <line
                key={`conn-${layerIdx}-${i}-${j}`}
                x1={start.x}
                y1={start.y}
                x2={end.x}
                y2={end.y}
                className={`connection ${isHighlighted && isAnimating ? 'highlight' : ''}`}
                strokeWidth={showAdapter ? 1.5 : 2}
                opacity={showAdapter ? 0.3 : 0.6}
              />
            );
          }
        }
      }
      return connections;
    };

    const renderAdapterPath = () => {
      if (!showAdapter) return null;

      // Adapter path through middle layers
      const adapters = [];
      const layerIdx = 1; // Middle layer
      
      // Show small adapter nodes
      const adapterNodes = [
        { x: 150, y: 150, label: 'A' },
        { x: 150, y: 250, label: 'B' }
      ];

      // Connections from main network to adapter
      const mainNodes = [
        getNodePosition(1, 1, layers[1]),
        getNodePosition(1, 2, layers[1])
      ];

      adapterNodes.forEach((adapter, idx) => {
        // Adapter node
        adapters.push(
          <g key={`adapter-${idx}`}>
            <circle
              cx={adapter.x}
              cy={adapter.y}
              r={20}
              className={`adapter-node ${isAnimating ? 'highlight' : ''}`}
            />
            <text
              x={adapter.x}
              y={adapter.y + 5}
              textAnchor="middle"
              className="adapter-label"
            >
              {adapter.label}
            </text>
          </g>
        );

        // Connections to adapter
        mainNodes.forEach((node) => {
          adapters.push(
            <line
              key={`adapter-conn-${idx}-${node.x}`}
              x1={node.x}
              y1={node.y}
              x2={adapter.x}
              y2={adapter.y}
              className={`adapter-connection ${isAnimating ? 'highlight' : ''}`}
              strokeWidth={2}
            />
          );
        });
      });

      return adapters;
    };

    const renderNodes = () => {
      const nodes = [];
      layers.forEach((layerSize, layerIdx) => {
        for (let nodeIdx = 0; nodeIdx < layerSize; nodeIdx++) {
          const { x, y } = getNodePosition(layerIdx, nodeIdx, layerSize);
          const isInputOutput = layerIdx === 0 || layerIdx === layers.length - 1;
          
          nodes.push(
            <circle
              key={`node-${layerIdx}-${nodeIdx}`}
              cx={x}
              cy={y}
              r={isInputOutput ? 12 : 10}
              className={`neuron ${isInputOutput ? 'io-neuron' : ''}`}
            />
          );
        }
      });
      return nodes;
    };

    return (
      <div className="network-container">
        <div className="network-header">
          <h3>{title}</h3>
          <p>{subtitle}</p>
        </div>
        <svg width="700" height="400" className="network-svg">
          <defs>
            <linearGradient id="connectionGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stopColor="#06b6d4" />
              <stop offset="100%" stopColor="#8b5cf6" />
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          
          {renderConnections()}
          {renderAdapterPath()}
          {renderNodes()}

          {/* Layer labels */}
          <text x="50" y="30" className="layer-label">Input</text>
          <text x="250" y="30" className="layer-label">Hidden</text>
          <text x="450" y="30" className="layer-label">Hidden</text>
          <text x="650" y="30" className="layer-label">Output</text>
        </svg>
      </div>
    );
  };

  const LoRAComparison = () => {
    return (
      <div className="lora-comparison">
        <div className="comparison-item">
          <NeuralNetwork 
            showAdapter={false}
            title="Tradycyjny Fine-tuning"
            subtitle="Wszystkie wagi sƒÖ aktualizowane"
          />
          <div className="method-badge traditional">
            <span className="badge-icon">‚ö°</span>
            <div>
              <strong>Pe≈Çna aktualizacja</strong>
              <p>Miliony parametr√≥w</p>
            </div>
          </div>
        </div>

        <div className="comparison-divider">vs</div>

        <div className="comparison-item">
          <NeuralNetwork 
            showAdapter={true}
            title="LoRA Fine-tuning"
            subtitle="Tylko adaptery A i B sƒÖ trenowane"
          />
          <div className="method-badge lora">
            <Zap size={20} />
            <div>
              <strong>Adapter path</strong>
              <p>Oryginalne wagi zamro≈ºone</p>
            </div>
          </div>
        </div>
      </div>
    );
  };

  const stats = {
    full: {
      params: '7 miliard√≥w',
      memory: '28 GB',
      time: '48 godz',
      cost: '$$$$'
    },
    lora: {
      params: '4.2 miliona',
      memory: '1.2 GB',
      time: '4 godz',
      cost: '$'
    }
  };

  return (
    <div className="app">
      <header className="header">
        <div className="header-content">
          <Layers className="header-icon" />
          <div>
            <h1>LoRA: Parameter-Efficient Fine-Tuning</h1>
            <p>Jak trenowaƒá modele z miliardami parametr√≥w na konsumerskich GPU</p>
          </div>
        </div>
      </header>

      <div className="tabs">
        <button 
          className={`tab ${activeTab === 'full' ? 'active' : ''}`}
          onClick={() => { setActiveTab('full'); reset(); }}
        >
          Full Fine-tuning (7B parametr√≥w)
        </button>
        <button 
          className={`tab ${activeTab === 'lora' ? 'active' : ''}`}
          onClick={() => { setActiveTab('lora'); reset(); }}
        >
          LoRA Fine-tuning (4.2M parametr√≥w)
        </button>
      </div>

      <div className="content">
        <div className="visualization-area">
          <div className="visualization-header">
            <h2>
              {activeTab === 'full' 
                ? 'Wszystkie miliardy parametr√≥w sƒÖ aktualizowane' 
                : 'Tylko miliony parametr√≥w adaptera sƒÖ trenowane'}
            </h2>
            <div className="controls">
              <button 
                className="control-btn primary"
                onClick={() => setIsAnimating(!isAnimating)}
              >
                {isAnimating ? <Pause size={18} /> : <Play size={18} />}
                {isAnimating ? 'Pauza' : 'Start'}
              </button>
              <button 
                className="control-btn"
                onClick={reset}
              >
                <RotateCcw size={18} />
                Reset
              </button>
            </div>
          </div>

          {activeTab === 'full' ? (
            <div className="full-finetune">
              <NeuralNetwork 
                showAdapter={false}
                title="Model jƒôzykowy (np. LLaMA-7B)"
                subtitle="7 miliard√≥w wag w pe≈Çnej sieci - wszystkie sƒÖ aktualizowane"
              />
              <div className="warning-box">
                <span className="warning-icon">‚ö†Ô∏è</span>
                <div>
                  <strong>Problem:</strong> Aktualizujemy wszystkie 7 miliard√≥w wag w modelu
                  <br />
                  Wymaga kart datacenter GPU (A100/H100) i bardzo du≈ºo czasu
                </div>
              </div>
            </div>
          ) : (
            <div className="lora-mode">
              <NeuralNetwork 
                showAdapter={true}
                title="LLaMA-7B z adapterem LoRA (rank=16)"
                subtitle="7 miliard√≥w wag zamro≈ºone, ~4.2 miliona parametr√≥w adaptera trenowane"
              />
              <div className="success-box">
                <Zap size={24} />
                <div>
                  <strong>LoRA:</strong> Ma≈Çe adaptery niskorangowe dodajƒÖ nowƒÖ ≈õcie≈ºkƒô
                  <br />
                  99.94% mniej parametr√≥w do trenowania! Mo≈ºesz u≈ºyƒá konsumerskiej karty RTX 3090/4090
                </div>
              </div>
            </div>
          )}

          <div className="progress-bar">
            <div 
              className="progress-fill"
              style={{ width: `${progress}%` }}
            />
            <span className="progress-text">
              {progress === 100 ? 'Trening zako≈Ñczony!' : `Trening: ${progress}%`}
            </span>
          </div>
        </div>

        <div className="comparison-panel">
          <h3>Por√≥wnanie metod</h3>
          
          <div className="stats-grid">
            <div className="stat-card">
              <div className="stat-icon">üî¢</div>
              <div className="stat-label">Parametry do treningu</div>
              <div className="stat-value full">{stats.full.params}</div>
              <div className="stat-value lora">{stats.lora.params}</div>
              <div className="stat-badge">
                <TrendingDown size={14} />
                <span>99.94% mniej</span>
              </div>
            </div>

            <div className="stat-card">
              <div className="stat-icon">üíæ</div>
              <div className="stat-label">Pamiƒôƒá GPU</div>
              <div className="stat-value full">{stats.full.memory}</div>
              <div className="stat-value lora">{stats.lora.memory}</div>
              <div className="stat-badge">
                <TrendingDown size={14} />
                <span>95% mniej</span>
              </div>
            </div>

            <div className="stat-card">
              <div className="stat-icon">‚è±Ô∏è</div>
              <div className="stat-label">Czas treningu</div>
              <div className="stat-value full">{stats.full.time}</div>
              <div className="stat-value lora">{stats.lora.time}</div>
              <div className="stat-badge">
                <TrendingDown size={14} />
                <span>12x szybciej</span>
              </div>
            </div>

            <div className="stat-card">
              <div className="stat-icon">üí∞</div>
              <div className="stat-label">Koszt</div>
              <div className="stat-value full">{stats.full.cost}</div>
              <div className="stat-value lora">{stats.lora.cost}</div>
              <div className="stat-badge">
                <TrendingDown size={14} />
                <span>Znacznie taniej</span>
              </div>
            </div>
          </div>

          <div className="info-box">
            <h4>Jak to dzia≈Ça?</h4>
            <ul>
              <li><strong>Zamro≈ºony model bazowy:</strong> Wszystkie 7 miliard√≥w wag oryginalnego modelu pozostaje nietkniƒôte</li>
              <li><strong>Adaptery niskorangowe:</strong> Dodajemy ma≈Çe macierze A (d√ór) i B (r√ód), gdzie rank r=8,16,32,64</li>
              <li><strong>Drastyczna redukcja:</strong> Zamiast trenowaƒá 7B parametr√≥w, trenujemy tylko ~4M (0.06%!)</li>
              <li><strong>Matematyka:</strong> W‚Ä≤ = W + Œ±BA/r, gdzie W to oryginalne wagi, Œ± to wsp√≥≈Çczynnik skalowania</li>
              <li><strong>Wymiana adapter√≥w:</strong> Jeden model bazowy + wiele zestaw√≥w adapter√≥w dla r√≥≈ºnych zada≈Ñ (t≈Çumaczenia, kodowanie, medycyna)</li>
            </ul>
          </div>

          <div className="tip-box">
            <span className="tip-icon">üí°</span>
            <div>
              <strong>Praktyczny przyk≈Çad:</strong> LLaMA-7B wymaga normalnie 28GB pamiƒôci VRAM (A100), 
              ale z LoRA mo≈ºesz go fine-tunowaƒá na RTX 3090 (24GB) lub nawet RTX 4090 (24GB). 
              Adapter LoRA zajmuje tylko ~17MB na dysku!
            </div>
          </div>
        </div>
      </div>

      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&family=DM+Sans:wght@400;500;700&display=swap');

        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        .app {
          min-height: 100vh;
          background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
          color: #e2e8f0;
          font-family: 'DM Sans', sans-serif;
          padding: 2rem;
        }

        .header {
          margin-bottom: 2rem;
          padding: 2rem;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 16px;
          border: 1px solid rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(10px);
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 1.5rem;
        }

        .header-icon {
          width: 48px;
          height: 48px;
          color: #06b6d4;
          filter: drop-shadow(0 0 20px rgba(6, 182, 212, 0.5));
        }

        .header h1 {
          font-family: 'Outfit', sans-serif;
          font-size: 2rem;
          font-weight: 700;
          background: linear-gradient(90deg, #06b6d4, #8b5cf6);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 0.5rem;
        }

        .header p {
          color: #94a3b8;
          font-size: 1rem;
        }

        .tabs {
          display: flex;
          gap: 1rem;
          margin-bottom: 2rem;
        }

        .tab {
          flex: 1;
          padding: 1rem 2rem;
          background: rgba(255, 255, 255, 0.05);
          border: 2px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          color: #cbd5e1;
          font-family: 'Outfit', sans-serif;
          font-size: 1rem;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .tab:hover {
          background: rgba(255, 255, 255, 0.08);
          border-color: rgba(6, 182, 212, 0.5);
          transform: translateY(-2px);
        }

        .tab.active {
          background: linear-gradient(135deg, rgba(6, 182, 212, 0.2), rgba(139, 92, 246, 0.2));
          border-color: #06b6d4;
          color: #fff;
          box-shadow: 0 8px 32px rgba(6, 182, 212, 0.3);
        }

        .content {
          display: grid;
          grid-template-columns: 1.5fr 1fr;
          gap: 2rem;
        }

        .visualization-area {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 16px;
          padding: 2rem;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .visualization-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .visualization-header h2 {
          font-family: 'Outfit', sans-serif;
          font-size: 1.5rem;
          font-weight: 600;
          color: #06b6d4;
        }

        .controls {
          display: flex;
          gap: 0.75rem;
        }

        .control-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 0.75rem 1.25rem;
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 8px;
          color: #e2e8f0;
          font-family: 'DM Sans', sans-serif;
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .control-btn:hover {
          background: rgba(255, 255, 255, 0.1);
          transform: translateY(-1px);
        }

        .control-btn.primary {
          background: linear-gradient(135deg, #06b6d4, #0891b2);
          border: none;
          color: white;
          font-weight: 600;
        }

        .control-btn.primary:hover {
          background: linear-gradient(135deg, #0891b2, #0e7490);
          box-shadow: 0 4px 16px rgba(6, 182, 212, 0.4);
        }

        .matrix-container {
          margin-bottom: 2rem;
        }

        .matrix-header {
          margin-bottom: 1rem;
        }

        .matrix-header h3 {
          font-family: 'Outfit', sans-serif;
          font-size: 1.1rem;
          font-weight: 600;
          color: #f1f5f9;
          margin-bottom: 0.25rem;
        }

        .matrix-header p {
          font-size: 0.85rem;
          color: #94a3b8;
        }

        .network-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 100%;
        }

        .network-header {
          text-align: center;
          margin-bottom: 1.5rem;
        }

        .network-header h3 {
          font-family: 'Outfit', sans-serif;
          font-size: 1.2rem;
          font-weight: 600;
          color: #f1f5f9;
          margin-bottom: 0.5rem;
        }

        .network-header p {
          font-size: 0.9rem;
          color: #94a3b8;
        }

        .network-svg {
          background: rgba(0, 0, 0, 0.2);
          border-radius: 12px;
          border: 1px solid rgba(255, 255, 255, 0.05);
          padding: 1rem;
        }

        .connection {
          stroke: #475569;
          transition: all 0.3s ease;
        }

        .connection.highlight {
          stroke: url(#connectionGradient);
          stroke-width: 3;
          filter: url(#glow);
          animation: pulse 1s ease-in-out infinite;
        }

        .neuron {
          fill: #334155;
          stroke: #64748b;
          stroke-width: 2;
          transition: all 0.3s ease;
        }

        .neuron.io-neuron {
          fill: #1e293b;
          stroke: #06b6d4;
          stroke-width: 2.5;
        }

        .adapter-node {
          fill: rgba(139, 92, 246, 0.2);
          stroke: #8b5cf6;
          stroke-width: 3;
          filter: url(#glow);
        }

        .adapter-node.highlight {
          fill: rgba(139, 92, 246, 0.4);
          animation: pulse 1s ease-in-out infinite;
        }

        .adapter-connection {
          stroke: #8b5cf6;
          stroke-width: 2;
          stroke-dasharray: 5, 5;
        }

        .adapter-connection.highlight {
          stroke: #a78bfa;
          stroke-width: 3;
          filter: url(#glow);
          animation: pulse 1s ease-in-out infinite;
        }

        .adapter-label {
          fill: #c4b5fd;
          font-family: 'Outfit', sans-serif;
          font-size: 14px;
          font-weight: 700;
        }

        .layer-label {
          fill: #94a3b8;
          font-family: 'DM Sans', sans-serif;
          font-size: 12px;
          font-weight: 600;
          text-anchor: middle;
        }

        .full-finetune, .lora-mode {
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 100%;
        }

        .method-badge {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem 1.5rem;
          border-radius: 12px;
          margin-top: 1.5rem;
        }

        .method-badge.traditional {
          background: rgba(248, 113, 113, 0.1);
          border: 1px solid rgba(248, 113, 113, 0.3);
          color: #fca5a5;
        }

        .method-badge.lora {
          background: rgba(139, 92, 246, 0.1);
          border: 1px solid rgba(139, 92, 246, 0.3);
          color: #c4b5fd;
        }

        .method-badge .badge-icon {
          font-size: 1.5rem;
        }

        .method-badge strong {
          display: block;
          font-size: 1rem;
          margin-bottom: 0.25rem;
        }

        .method-badge p {
          font-size: 0.85rem;
          opacity: 0.8;
          margin: 0;
        }

        .success-box {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: rgba(139, 92, 246, 0.1);
          border: 1px solid rgba(139, 92, 246, 0.3);
          border-radius: 8px;
          color: #c4b5fd;
          margin-top: 1rem;
        }

        .warning-box {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: rgba(245, 158, 11, 0.1);
          border: 1px solid rgba(245, 158, 11, 0.3);
          border-radius: 8px;
          color: #fbbf24;
          margin-top: 1rem;
        }

        .warning-icon {
          font-size: 1.5rem;
        }

        @keyframes pulse {
          0%, 100% { 
            opacity: 1;
            filter: url(#glow) brightness(1);
          }
          50% { 
            opacity: 0.7;
            filter: url(#glow) brightness(1.3);
          }
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }

        .progress-bar {
          position: relative;
          height: 40px;
          background: rgba(0, 0, 0, 0.2);
          border-radius: 20px;
          overflow: hidden;
          margin-top: 2rem;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #06b6d4, #8b5cf6);
          transition: width 0.3s ease;
          box-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
        }

        .progress-text {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-weight: 600;
          color: white;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .comparison-panel {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }

        .comparison-panel h3 {
          font-family: 'Outfit', sans-serif;
          font-size: 1.5rem;
          font-weight: 600;
          color: #f1f5f9;
        }

        .stats-grid {
          display: grid;
          gap: 1rem;
        }

        .stat-card {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          padding: 1.25rem;
          transition: all 0.3s ease;
        }

        .stat-card:hover {
          background: rgba(255, 255, 255, 0.08);
          transform: translateX(4px);
          border-color: rgba(6, 182, 212, 0.3);
        }

        .stat-icon {
          font-size: 1.5rem;
          margin-bottom: 0.5rem;
        }

        .stat-label {
          font-size: 0.85rem;
          color: #94a3b8;
          margin-bottom: 0.75rem;
        }

        .stat-value {
          font-family: 'Outfit', sans-serif;
          font-size: 1.25rem;
          font-weight: 700;
          margin-bottom: 0.25rem;
        }

        .stat-value.full {
          color: #f87171;
        }

        .stat-value.lora {
          color: #34d399;
        }

        .stat-badge {
          display: inline-flex;
          align-items: center;
          gap: 0.25rem;
          padding: 0.25rem 0.75rem;
          background: rgba(16, 185, 129, 0.1);
          border: 1px solid rgba(16, 185, 129, 0.3);
          border-radius: 12px;
          color: #34d399;
          font-size: 0.75rem;
          font-weight: 600;
          margin-top: 0.5rem;
        }

        .info-box, .tip-box {
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 12px;
          padding: 1.5rem;
        }

        .info-box h4 {
          font-family: 'Outfit', sans-serif;
          font-size: 1.1rem;
          font-weight: 600;
          color: #06b6d4;
          margin-bottom: 1rem;
        }

        .info-box ul {
          list-style: none;
          display: flex;
          flex-direction: column;
          gap: 0.75rem;
        }

        .info-box li {
          padding-left: 1.5rem;
          position: relative;
          color: #cbd5e1;
          line-height: 1.6;
        }

        .info-box li::before {
          content: '‚Üí';
          position: absolute;
          left: 0;
          color: #06b6d4;
          font-weight: bold;
        }

        .info-box strong {
          color: #f1f5f9;
        }

        .tip-box {
          display: flex;
          gap: 1rem;
          background: rgba(139, 92, 246, 0.1);
          border-color: rgba(139, 92, 246, 0.3);
        }

        .tip-icon {
          font-size: 1.5rem;
        }

        .tip-box strong {
          color: #c4b5fd;
        }

        @media (max-width: 1200px) {
          .content {
            grid-template-columns: 1fr;
          }

          .network-svg {
            width: 100%;
            height: auto;
          }
        }

        @media (max-width: 768px) {
          .app {
            padding: 1rem;
          }

          .header h1 {
            font-size: 1.5rem;
          }

          .tabs {
            flex-direction: column;
          }

          .visualization-header {
            flex-direction: column;
            gap: 1rem;
            align-items: flex-start;
          }

          .network-svg {
            width: 100%;
            overflow-x: auto;
          }
        }
      `}</style>
    </div>
  );
}
